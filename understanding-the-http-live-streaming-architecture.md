---
description: HLS의 주요 구성 요소가 어떻게 함께 작동하여 스트리밍 미디어를 제공하는지 이해하라.
---

# Understanding the HTTP Live Streaming Architecture

개념적으로, HTTP Live Streaming은 서버 구성요소, 배포 구성요소, 클라이언트 소프트웨어의 세 부분으로 구성된다.

일반적인 구성에서 하드웨어 인코더는 오디오-비디오 입력을 받아 HEVC 비디오와 AC-3 오디오로 인코딩하고 조각난 MPEG-4 파일 또는 MPEG-2 전송 스트림을 출력한다. 그런 다음 스트림 세그멘터 소프트웨어는 스트림을 웹 서버에 있는 심각한 짧은 미디어 파일로 분할한다. 세그멘터는 또한 미디어 파일 목록을 포함하는 인덱스 파일을 생성하고 유지 관리한다. 인덱스 파일의 URL은 웹 서버에 게시된다. 클라이언트 소프트웨어는 인덱스를 읽은 다음 나열된 미디어 파일을 순서대로 요청하여 세그멘트 사이에 일시 중지 또는 공백 없이 표시된다.

![](.gitbook/assets/http-live-streaming-overview.png)

#### Server Component <a id="2957303"></a>

서버 구성 요소는 미디어의 입력 스트림을 가져와서 디지털 방식으로 인코딩할 책임이 있다. 배포에 적합한 형식으로 캡슐화하여 캡슐화된 미디어를 준비한다. 라이브 이벤트의 경우 서버는 하드웨어가 될 수 있는 미디어 인코더를 필요로 하며, 인코딩된 미디어를 세먼트로 분할하여 파일로 저장할 수 있는 방법이 필요하며, 이는 Apple에서 제공하는 미디어 스트리밍 세그먼트와 같은 소프트웨어 또는 통합된 타사 솔루션의 일부일 수 있다.

#### Distribution Component <a id="2957302"></a>

배포 시스템은 HTTP를 통해 미디어 파일과 인덱스 파일을 클라이언트에 전달하는 웹 서버 또는 웹 캐싱 시스템이다. 콘텐츠를 전송하는 데 사용자 정의 서버 모듈이 필요하지 않으며, 일반적으로 웹 서버에는 구성이 거의 필요하지 않다. 실제로 HTTP Live Streaming을 배포하려면 브라우저용 HTML 페이지나 수신기 역할을 하는 클라이언트 앱을 만들어야 한다. 또한 HEVC 또는 H.264 비디오 및 AAC 또는 AC-3 오디오를 포함하는 단편화된 MPEG-4 미디어 파일로 웹 서버를 사용하고 라이브 스트림을 인코딩할 수 있는 방법이 필요하다.

#### Client Software <a id="2957304"></a>

클라이언트 소프트웨어는 요청할 적절한 미디어를 결정하고, 이러한 리소스를 다운로드한 다음, 미디어를 연속적인 스트림에서 사용자에게 제공할 수 있도록 재조립할 책임이 있다. 클라이언트 소프트웨어는 iOS 3.0 이상 및 Safari 4.0 이상이 설치된 컴퓨터에 포함되어 있다. 클라이언트 소프트웨어는 스트림을 식별하는 URL을 사용하여 인덱스 파일을 가져오는 것으로 시작한다. 인덱스 파일은 차례로 사용 가능한 미디어 파일, 해독 키 및 사용 가능한 대체 스트림의 위치를 지정한다. 선택한 스트림의 경우 클라이언트는 사용 가능한 각 미디어 파일을 순서대로 다운로드한다. 각 파일에는 연속된 스트림 세그먼트가 포함되어 있다. 충분한 양의 데이터가 다운로드되면 클라이언트는 재조립된 스트림을 사용자에게 제시하기 시작한다. 

클라이언트는 암호 해독 키를 가져오고, 인증을 허용하는 사용자 인터페이스를 인증 또는 제시하며, 필요에 따라 미디어 파일의 암호를 해독할 책임이 있다.

이 프로세스는 클라이언트가 인덱스 파일에서 EXT-X-ENDLIST 태그를 발견할 때까지 계속된다. EXT-X-ENDLIST 태그가 없는 경우 인덱스 파일은 진행 중인 브로드캐스트의 일부분이다. 진행 중인 브로드캐스트 동안 클라이언트는 주기적으로 새로운 버전의 인덱스 파일을 로드한다. 클라이언트는 업데이트된 인덱스에서 새 미디어 파일과 암호화 키를 찾아 이러한 URL을 대기열에 추가한다.

